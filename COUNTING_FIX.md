# üî¢ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å—á–µ—Ç–∞ –∏–≥—Ä

## –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —á–∏—Å–ª–∞:
- –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: 2037 –∏–≥—Ä
- –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–ª: 3381 –∏–≥—Ä

## –ü—Ä–∏—á–∏–Ω–∞
–í —Ñ—É–Ω–∫—Ü–∏–∏ `parseNewGames` –±—ã–ª–∞ –æ—à–∏–±–∫–∞ –≤ –ª–æ–≥–∏–∫–µ –ø–æ–¥—Å—á–µ—Ç–∞:
```typescript
// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true
if (gameId) {
  newGames++;  // –í—Å–µ –∏–≥—Ä—ã —Å—á–∏—Ç–∞–ª–∏—Å—å –Ω–æ–≤—ã–º–∏!
}
```

## –†–µ—à–µ–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `upsertGameWithStatus`
```typescript
export function upsertGameWithStatus(game): { gameId: number; isNew: boolean } {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏ ID –∏–≥—Ä—ã, –∏ —Å—Ç–∞—Ç—É—Å (–Ω–æ–≤–∞—è/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è)
}
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–¥—Å—á–µ—Ç–∞
```typescript
// –ü–†–ê–í–ò–õ–¨–ù–û
const result = upsertGameWithStatus({ source_id, title, url });
if (result.isNew) {
  newGames++;
} else {
  updatedGames++;
}
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –∏–≥—Ä –≤ –±–∞–∑–µ
```typescript
const realGameCount = db.prepare('SELECT COUNT(*) as count FROM games').get();
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç
–¢–µ–ø–µ—Ä—å –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∏–≥—Ä**: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- **–ù–æ–≤—ã—Ö –∏–≥—Ä**: –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤—ã–µ –∏–≥—Ä—ã
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ –∏–≥—Ä**: —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–≥—Ä—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **–í—Å–µ–≥–æ –≤ –±–∞–∑–µ**: —Ä–µ–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "üîç –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤—ã—Ö –∏–≥—Ä" - —Ç–µ–ø–µ—Ä—å —á–∏—Å–ª–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏!
